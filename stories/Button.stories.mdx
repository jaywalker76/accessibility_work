import { Meta, Story, ArgsTable } from '@storybook/addon-docs/blocks';

import Button from "../src/Atoms/Buttons/Button";
import Scaffold from "../src/Atoms/Buttons/Scaffold";
import ImageButton from "../src/Atoms/Buttons/ImageButton";

<Meta title='Button' component={Button} />

# Button
Buttons are clickable elements that are used to trigger actions. They communicate calls to action to the user and allow users to interact with pages in a variety of ways. Button labels express what action will occur when the user interacts with it.
A button is a widget that enables users to trigger an action or event, such as submitting a form, opening a dialog, canceling an action, or performing a delete operation. A common convention for informing users that a button launches a dialog is to append "…" (ellipsis) to the button label, e.g., "Save as…".

A button can receive **Phrasing Content**, but no **Interactive Content** is allowed




In addition to the ordinary button widget, WAI-ARIA supports 2 other types of buttons:
- Toggle button: A two-state button that can be either off (not pressed) or on (pressed). To tell assistive technologies that a button is a toggle button, specify a value for the attribute aria-pressed. For example, a button labelled mute in an audio player could indicate that sound is muted by setting the pressed state true. Important: it is critical the label on a toggle does not change when its state changes. In this example, when the pressed state is true, the label remains "Mute" so a screen reader would say something like "Mute toggle button pressed". Alternatively, if the design were to call for the button label to change from "Mute" to "Unmute," the aria-pressed attribute would not be needed.
- Menu button: as described in the menu button pattern, a button is revealed to assistive technologies as a menu button if it has the property aria-haspopup set to either menu or true.

### When to use
Use buttons to communicate actions users can take and to allow users to interact with the page. Each page should have one primary button, and any remaining calls to action should be represented as lower emphasis buttons.

### When not to use
Do not use buttons as navigational elements. Instead, use links when the desired action is to take the user to a new page.

### Notes
- Both the starting and ending tag are mandatory. This element has the implicit ARIA role of button.
- A submit button with the attribute **formaction** set, but without an associated form does nothing. You have to set a form owner, either by wrapping it in a ```<form>``` or set the attribute form to the id of the form.
- ```<button>``` elements are much easier to style than ```<input>``` elements. You can add inner HTML content (think ```<i>```, ```<br>```, or even ```<img>```), and use ```::after``` and ```::before``` pseudo-elements for complex rendering.
- If your buttons are not for submitting form data to a server, be sure to set their type attribute to button. Otherwise they will try to submit form data and to load the (nonexistent) response, possibly destroying the current state of the document.

#### Button using native element
In this case we are using a Button component, which internally uses the ```<button><button />``` tag 

<Story name='Using Basic Button' height='100px'>
  <Button id="valid-default" label="Native Button" />
</Story>



```
const Button = ({ id = "base-button", label = "Button Msg" }) => (
  <button class="deque-button" id={id}>
    {label}
  </button>
)
```

#### Accessibility concerns

##### Icon buttons
Buttons that only show an icon to represent do not have an accessible name. 

#### Button using native element
<Story name='Using Image Button' height='100px'>
  <ImageButton id="valid-default" label="Native Button" />
</Story>

Accessible names provide information for assistive technology, such as screen readers, 
to access when they parse the document and generate an accessibility tree. 
Assistive technology then uses the accessibility tree to navigate and manipulate page content.

To give an icon button an accessible name, put text in the ```<button>``` element that concisely describes the button's 
functionality.

#### Button using scaffolding component
<Story name='Button Using Spans' height='100px'>
  <Scaffold
    id="span-button"
    label="Button Msg"
    onClickAction={() => alert("Scaffold Click")}
  />
</Story>

## ArgsTable

<ArgsTable of={Button} />

---

### Phrasing Content 

Defines the text and the mark-up it contains. Runs of phrasing content make up paragraphs.
Elements belonging to this category are:
```<abbr>, <audio>, <b>, <bdo>, <br>, <button>, <canvas>, <cite>, <code>, <command>, <data>, 
<datalist>, <dfn>, <em>, <embed>, <i>, <iframe>, <img>, <input>, <kbd>, <keygen>, <label>, <mark>, 
math>, <meter>, <noscript>, <object>, <output>, <picture>, <progress>, <q>, <ruby>, <samp>, <script>, 
<select>, <small>, <span>, <strong>, <sub>, <sup>, <svg>, <textarea>, <time>, <var>, <video>, <wbr> 
and plain text (not only consisting of white spaces characters)
```

A few other elements belong to this category, but only if a specific condition is fulfilled:
```
<a>, if it contains only phrasing content
<area>, if it is a descendant of a <map> element
<del>, if it contains only phrasing content
<ins>, if it contains only phrasing content
<link>, if the itemprop attribute is present
<map>, if it contains only phrasing content
<meta>, if the itemprop attribute is present
```
---

#### Notes 
https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button
https://www.w3.org/TR/wai-aria-practices-1.1/examples/button/button.html
https://www.w3.org/TR/wai-aria-practices-1.1/#button